
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>基础模块 &#8212; toolkity 1.7.5 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="进度控制模块" href="toolkit/processor.html" />
    <link rel="prev" title="Welcome to toolkity’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-toolkit">
<span id="id1"></span><span id="module-toolkit"></span><h1>基础模块<a class="headerlink" href="#module-toolkit" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="toolkit.test_prepare">
<code class="descclassname">toolkit.</code><code class="descname">test_prepare</code><span class="sig-paren">(</span><em>search_paths: List[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#test_prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.test_prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>单元测试时，动态添加PYTHONPATH。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>search_paths</strong> – 要将哪个路径加入PYTHONPATH</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.debugger">
<code class="descclassname">toolkit.</code><code class="descname">debugger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#debugger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.debugger" title="Permalink to this definition">¶</a></dt>
<dd><p>pdb的简单封装，在debug=False的情况下，不会打断点</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.arg_to_iter">
<code class="descclassname">toolkit.</code><code class="descname">arg_to_iter</code><span class="sig-paren">(</span><em>arg: Any</em><span class="sig-paren">)</span> &#x2192; List[Any]<a class="reference internal" href="_modules/toolkit.html#arg_to_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.arg_to_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>将非可迭代对象转换成可迭代对象</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> – 任意对象</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">列表对象</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="toolkit.Compose">
<em class="property">class </em><code class="descclassname">toolkit.</code><code class="descname">Compose</code><span class="sig-paren">(</span><em>*functions</em>, <em>is_pipe: bool = False</em>, <em>aggregation: function = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#Compose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.Compose" title="Permalink to this definition">¶</a></dt>
<dd><p>函数聚合器</p>
<p>连续调用多个函数, 如果is_pipe=True，依次连接所有函数的输出到输入。
否则，返回所有函数结果集列表将传aggregation中进行聚合。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>functions</strong> – 需要连接的函数</li>
<li><strong>is_pipe</strong> – 是否建立管道</li>
<li><strong>aggregation</strong> – 聚合函数</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="toolkit.Compose.aggregation">
<em class="property">static </em><code class="descname">aggregation</code><span class="sig-paren">(</span><em>iterable: Iterable</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/toolkit.html#Compose.aggregation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.Compose.aggregation" title="Permalink to this definition">¶</a></dt>
<dd><p>对所有运算结果进行逻辑与</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>iterable</strong> – 所有运算结果集合</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">运算结果True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="toolkit.duplicate">
<code class="descclassname">toolkit.</code><code class="descname">duplicate</code><span class="sig-paren">(</span><em>iterable: Iterable</em>, <em>keep: function = &lt;function &lt;lambda&gt;&gt;</em>, <em>key: function = &lt;function &lt;lambda&gt;&gt;</em>, <em>reverse: bool = False</em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/toolkit.html#duplicate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.duplicate" title="Permalink to this definition">¶</a></dt>
<dd><p>保序去重</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iterable</strong> – 需要去重的列表</li>
<li><strong>keep</strong> – 去重的同时要对element做的操作</li>
<li><strong>key</strong> – 使用哪一部分去重</li>
<li><strong>reverse</strong> – 是否反向去重</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.strip">
<code class="descclassname">toolkit.</code><code class="descname">strip</code><span class="sig-paren">(</span><em>value</em>, <em>chars: AnyStr = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#strip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.strip" title="Permalink to this definition">¶</a></dt>
<dd><p>安全strip，如果不是字符串类型，直接返回。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – 要strip的值</li>
<li><strong>chars</strong> – 需要去掉的字符</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.decode">
<code class="descclassname">toolkit.</code><code class="descname">decode</code><span class="sig-paren">(</span><em>value</em>, <em>encoding: str = 'utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>decode字段</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – 要decode的值</li>
<li><strong>encoding</strong> – 编码</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.encode">
<code class="descclassname">toolkit.</code><code class="descname">encode</code><span class="sig-paren">(</span><em>value</em>, <em>encoding: str = 'utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>encode字段</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – 要encode的值</li>
<li><strong>encoding</strong> – 编码</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.rid">
<code class="descclassname">toolkit.</code><code class="descname">rid</code><span class="sig-paren">(</span><em>value: AnyStr, old: Union[~AnyStr, Pattern[~AnyStr]], new: AnyStr</em><span class="sig-paren">)</span> &#x2192; AnyStr<a class="reference internal" href="_modules/toolkit.html#rid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.rid" title="Permalink to this definition">¶</a></dt>
<dd><p>去掉匹配成功的字段</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – 要被处理的字符串</li>
<li><strong>old</strong> – 被替换的内容，可以为正则表达示或字符串</li>
<li><strong>new</strong> – 替换的字符串</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.wrap_key">
<code class="descclassname">toolkit.</code><code class="descname">wrap_key</code><span class="sig-paren">(</span><em>json_str: str</em>, <em>key_pattern: Pattern[str] = re.compile('([a-zA-Z_]\\w*)[\\s]*:')</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/toolkit.html#wrap_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.wrap_key" title="Permalink to this definition">¶</a></dt>
<dd><p>将javascript 对象字串串形式的key转换成被双字符包裹的格式如{a: 1} =&gt; {“a”: 1}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>json_str</strong> – 要处理的json字符串</li>
<li><strong>key_pattern</strong> – 用来处理的正则表达式</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.safely_json_loads">
<code class="descclassname">toolkit.</code><code class="descname">safely_json_loads</code><span class="sig-paren">(</span><em>json_str: AnyStr</em>, <em>defaulttype: Any = &lt;class 'dict'&gt;</em>, <em>escape: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#safely_json_loads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.safely_json_loads" title="Permalink to this definition">¶</a></dt>
<dd><p>返回安全的json类型
:param json_str: 要被loads的字符串
:param defaulttype: 若load失败希望得到的对象类型
:param escape: 是否将单引号变成双引号
:return: 结果</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.chain_all">
<code class="descclassname">toolkit.</code><code class="descname">chain_all</code><span class="sig-paren">(</span><em>iter: Iterable</em><span class="sig-paren">)</span> &#x2192; Collection<a class="reference internal" href="_modules/toolkit.html#chain_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.chain_all" title="Permalink to this definition">¶</a></dt>
<dd><p>连接多个序列或字典</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>iter</strong> – 字典或列表的列表</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">结果</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.replace_quote">
<code class="descclassname">toolkit.</code><code class="descname">replace_quote</code><span class="sig-paren">(</span><em>json_str: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/toolkit.html#replace_quote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.replace_quote" title="Permalink to this definition">¶</a></dt>
<dd><p>将要被json.loads的字符串的单引号转换成双引号，
如果该单引号是元素主体，而不是用来修饰字符串的。则不对其进行操作。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>json_str</strong> – json字符串</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">结果</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.format_html_string">
<code class="descclassname">toolkit.</code><code class="descname">format_html_string</code><span class="sig-paren">(</span><em>html: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/toolkit.html#format_html_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.format_html_string" title="Permalink to this definition">¶</a></dt>
<dd><p>格式化html, 去掉多余的字符，类，script等。这个函数性能可能会较差。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>html</strong> – 传入的html字符串</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">处理完的html</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.urldecode">
<code class="descclassname">toolkit.</code><code class="descname">urldecode</code><span class="sig-paren">(</span><em>query: str</em><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="_modules/toolkit.html#urldecode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.urldecode" title="Permalink to this definition">¶</a></dt>
<dd><p>与urlencode相反，不过没有unquote</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> – url查询字符串</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">查询字符串的字典</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.re_search">
<code class="descclassname">toolkit.</code><code class="descname">re_search</code><span class="sig-paren">(</span><em>regex: Union[Pattern[str], str], text: AnyStr, dotall: bool = True, default: str = ''</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/toolkit.html#re_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.re_search" title="Permalink to this definition">¶</a></dt>
<dd><p>抽取正则规则的第一组元素</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regex</strong> – 正则对象或字符串</li>
<li><strong>text</strong> – 被查找的字符串</li>
<li><strong>dotall</strong> – 正则.是否匹配所有字符</li>
<li><strong>default</strong> – 找不到时的默认值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">抽取正则规则的第一组</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="toolkit.P22P3Encoder">
<em class="property">class </em><code class="descclassname">toolkit.</code><code class="descname">P22P3Encoder</code><span class="sig-paren">(</span><em>*</em>, <em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#P22P3Encoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.P22P3Encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>python2转换python3时使用的json encoder</p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (‘, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="method">
<dt id="toolkit.P22P3Encoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#P22P3Encoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.P22P3Encoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="toolkit.retry_wrapper">
<code class="descclassname">toolkit.</code><code class="descname">retry_wrapper</code><span class="sig-paren">(</span><em>retry_times: int</em>, <em>exception: type = &lt;class 'Exception'&gt;</em>, <em>error_handler: function = None</em>, <em>interval: float = 0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#retry_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.retry_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>函数出错时用来重试的装饰器</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>retry_times</strong> – 重试次数</li>
<li><strong>exception</strong> – 需要重试的异常</li>
<li><strong>error_handler</strong> – 出错时的回调函数</li>
<li><strong>interval</strong> – 重试间隔时间</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.timeout">
<code class="descclassname">toolkit.</code><code class="descname">timeout</code><span class="sig-paren">(</span><em>timeout_time: int</em>, <em>default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>装饰一个方法，用来限制其执行时间，超时后返回default，只能在主线程使用。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>timeout_time</strong> – 超时时间</li>
<li><strong>default</strong> – 超时后的返回</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.custom_re">
<code class="descclassname">toolkit.</code><code class="descname">custom_re</code><span class="sig-paren">(</span><em>regex: Pattern[~AnyStr], text: AnyStr</em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/toolkit.html#custom_re"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.custom_re" title="Permalink to this definition">¶</a></dt>
<dd><p>模仿selector.re</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regex</strong> – 正则表达式对象</li>
<li><strong>text</strong> – 被查询的字符串</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.replace_dot">
<code class="descclassname">toolkit.</code><code class="descname">replace_dot</code><span class="sig-paren">(</span><em>data: dict</em><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="_modules/toolkit.html#replace_dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.replace_dot" title="Permalink to this definition">¶</a></dt>
<dd><p>mongodb不支持key中带有”.”，该函数用来将”.”转换成”_”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> – 要处理的字典</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">返回的字典</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.groupby">
<code class="descclassname">toolkit.</code><code class="descname">groupby</code><span class="sig-paren">(</span><em>it: Iterable</em>, <em>key: function</em><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="_modules/toolkit.html#groupby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>自实现groupby，itertool的groupby不能合并不连续但是相同的组, 且返回值是iter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>it</strong> – 一个列表套字典的结构</li>
<li><strong>key</strong> – 从字典从取值的函数，作为group_by后的key</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">字典对象</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.parse_cookie">
<code class="descclassname">toolkit.</code><code class="descname">parse_cookie</code><span class="sig-paren">(</span><em>string: str</em>, <em>regex: Pattern[str] = re.compile('([^=]+)=([^\\;]+);?\\s?')</em><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="_modules/toolkit.html#parse_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.parse_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>解析cookie</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> – cookie字符串</li>
<li><strong>regex</strong> – 解析cookie的正则表达式</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">cookie字典</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.async_produce_wrapper">
<code class="descclassname">toolkit.</code><code class="descname">async_produce_wrapper</code><span class="sig-paren">(</span><em>producer</em>, <em>logger</em>, <em>batch_size=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#async_produce_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.async_produce_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>pykafka实现异步生产时，使用的装饰器
`
self.producer.produce =
async_produce_wrapper(self.producer, self.logger)(self.producer.produce)
`
:param producer:
:param logger:
:param batch_size:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.load_function">
<code class="descclassname">toolkit.</code><code class="descname">load_function</code><span class="sig-paren">(</span><em>function_str: str</em><span class="sig-paren">)</span> &#x2192; function<a class="reference internal" href="_modules/toolkit.html#load_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.load_function" title="Permalink to this definition">¶</a></dt>
<dd><p>返回字符串表示的函数对象</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function_str</strong> – 函数描述字符串，如：module1.module2.function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">function: 找到的函数</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.load_class">
<code class="descclassname">toolkit.</code><code class="descname">load_class</code><span class="sig-paren">(</span><em>function_str: str</em><span class="sig-paren">)</span> &#x2192; function<a class="headerlink" href="#toolkit.load_class" title="Permalink to this definition">¶</a></dt>
<dd><p>返回字符串表示的函数对象</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function_str</strong> – 函数描述字符串，如：module1.module2.function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">function: 找到的函数</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.load_module">
<code class="descclassname">toolkit.</code><code class="descname">load_module</code><span class="sig-paren">(</span><em>module_str: str</em><span class="sig-paren">)</span> &#x2192; module<a class="reference internal" href="_modules/toolkit.html#load_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.load_module" title="Permalink to this definition">¶</a></dt>
<dd><p>返回字符串表示的模块</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_str</strong> – 模块描述字符串，如: os.path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">模块，如: os.path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.load">
<code class="descclassname">toolkit.</code><code class="descname">load</code><span class="sig-paren">(</span><em>prop_str: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.load" title="Permalink to this definition">¶</a></dt>
<dd><p>返回字符串表示的模块、函数、类、若类的属性等</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prop_str</strong> – 函数、类、类属性、模块描述字符串，如: module1.class.function….</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">函数、类、模块等。</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.free_port">
<code class="descclassname">toolkit.</code><code class="descname">free_port</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#free_port"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.free_port" title="Permalink to this definition">¶</a></dt>
<dd><p>找到一个可用端口</p>
<p>:return 端口号</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.thread_safe">
<code class="descclassname">toolkit.</code><code class="descname">thread_safe</code><span class="sig-paren">(</span><em>lock</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#thread_safe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.thread_safe" title="Permalink to this definition">¶</a></dt>
<dd><p>对指定函数进行线程安全包装，需要提供锁</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lock</strong> – 锁</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.thread_safe_for_method">
<code class="descclassname">toolkit.</code><code class="descname">thread_safe_for_method</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#thread_safe_for_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.thread_safe_for_method" title="Permalink to this definition">¶</a></dt>
<dd><p>对类中的方法进行线程安全包装</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.call_later">
<code class="descclassname">toolkit.</code><code class="descname">call_later</code><span class="sig-paren">(</span><em>callback: str</em>, <em>call_args: Tuple = ()</em>, <em>immediately: bool = True</em>, <em>interval: Union[float</em>, <em>int] = 1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#call_later"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.call_later" title="Permalink to this definition">¶</a></dt>
<dd><p>应用场景：
被装饰的方法需要大量调用，随后需要调用保存方法，
但是因为被装饰的方法访问量很高，而保存方法开销很大
所以设计在装饰方法持续调用一定间隔后，再调用保存方法。
规定间隔内，无论调用多少次被装饰方法，保存方法只会
调用一次，除非immediately=True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback</strong> – 随后需要调用的方法名</li>
<li><strong>call_args</strong> – 随后需要调用的方法所需要的参数</li>
<li><strong>immediately</strong> – 是否立即调用</li>
<li><strong>interval</strong> – 调用间隔</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.get_ip">
<code class="descclassname">toolkit.</code><code class="descname">get_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/toolkit.html#get_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.get_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>获取局域网ip</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">局域网ip</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.cache_property">
<code class="descclassname">toolkit.</code><code class="descname">cache_property</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_property" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存属性，只计算一次</p>
</dd></dl>

<dl class="class">
<dt id="toolkit.cache_prop">
<em class="property">class </em><code class="descclassname">toolkit.</code><code class="descname">cache_prop</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_prop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>描述符版缓存属性，无法被覆盖</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.cache_for">
<code class="descclassname">toolkit.</code><code class="descname">cache_for</code><span class="sig-paren">(</span><em>timeout: Union[float</em>, <em>int] = 10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_for" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存属性，指定缓存失效时间</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> – 缓存失效时间 second</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.free_namedtuple">
<code class="descclassname">toolkit.</code><code class="descname">free_namedtuple</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#free_namedtuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.free_namedtuple" title="Permalink to this definition">¶</a></dt>
<dd><p>根据一个类及其参数创建一个类namedtuple class，
但不同之处在于创建实例成功后可以自由赋值，初时化时指定的值决定其Hash和eq结果</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.cache_method">
<code class="descclassname">toolkit.</code><code class="descname">cache_method</code><span class="sig-paren">(</span><em>timeout: int = 10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_method" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存一个方法的调用结果，持续一定时长，
根据不同的调用参数来缓存不同的结果，调用参数必须是可hash的，
该方法调用正常时，希望返回真值(形式上为真)，若返回值为假，缓存效果会失效。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> – 缓存时长 :s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.cache_method_for_updated">
<code class="descclassname">toolkit.</code><code class="descname">cache_method_for_updated</code><span class="sig-paren">(</span><em>func: function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_method_for_updated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_method_for_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存方法调用结果直到实例的updated返回True，与cache_method类似。</p>
<p>&#64;param func: 要缓存的方法</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.overflow">
<code class="descclassname">toolkit.</code><code class="descname">overflow</code><span class="sig-paren">(</span><em>val: int</em>, <em>btc: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#overflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.overflow" title="Permalink to this definition">¶</a></dt>
<dd><p>对于超出字节长度的数字转换成负数</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>val</strong> – 值</li>
<li><strong>btc</strong> – 字节长度</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.int_overflow">
<code class="descclassname">toolkit.</code><code class="descname">int_overflow</code><span class="sig-paren">(</span><em>val: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#int_overflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.int_overflow" title="Permalink to this definition">¶</a></dt>
<dd><p>类似js对于超过int范围的数转换成负数
:param val: 值
:return: 结果</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.unsigned_right_shift">
<code class="descclassname">toolkit.</code><code class="descname">unsigned_right_shift</code><span class="sig-paren">(</span><em>n: int</em>, <em>i: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#unsigned_right_shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.unsigned_right_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>无符号右移python实现</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n</strong> – 值</li>
<li><strong>i</strong> – 移的位数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.shift_left_for_js">
<code class="descclassname">toolkit.</code><code class="descname">shift_left_for_js</code><span class="sig-paren">(</span><em>num: int</em>, <em>count: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#shift_left_for_js"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.shift_left_for_js" title="Permalink to this definition">¶</a></dt>
<dd><p>位运算左移js版</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num</strong> – 值</li>
<li><strong>count</strong> – 移的位数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.shift_right_for_js">
<code class="descclassname">toolkit.</code><code class="descname">shift_right_for_js</code><span class="sig-paren">(</span><em>num</em>, <em>count</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/toolkit.html#shift_right_for_js"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.shift_right_for_js" title="Permalink to this definition">¶</a></dt>
<dd><p>位运算右移js版</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num</strong> – 值</li>
<li><strong>count</strong> – 移的位数</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">结果</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="toolkit.NotImplementedProp">
<em class="property">class </em><code class="descclassname">toolkit.</code><code class="descname">NotImplementedProp</code><a class="reference internal" href="_modules/toolkit.html#NotImplementedProp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.NotImplementedProp" title="Permalink to this definition">¶</a></dt>
<dd><p>用来对子类需要实现的类属性进行占位</p>
</dd></dl>

<dl class="class">
<dt id="toolkit.classproperty">
<em class="property">class </em><code class="descclassname">toolkit.</code><code class="descname">classproperty</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#classproperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.classproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>property只能用于实例方法到实例属性的转换，使用classproperty来支持类方法到类属性的转换</p>
</dd></dl>

<dl class="function">
<dt id="toolkit.cache_classproperty">
<code class="descclassname">toolkit.</code><code class="descname">cache_classproperty</code><span class="sig-paren">(</span><em>func: function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#cache_classproperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.cache_classproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>缓存类属性，只计算一次</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> – 函数</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit._assert">
<code class="descclassname">toolkit.</code><code class="descname">_assert</code><span class="sig-paren">(</span><em>boolean</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toolkit.html#_assert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit._assert" title="Permalink to this definition">¶</a></dt>
<dd><p>增强版assert，如果data是异常对象则直接抛出。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>boolean</strong> – True/False</li>
<li><strong>data</strong> – 异常或者描述信息</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="toolkit.readexactly">
<code class="descclassname">toolkit.</code><code class="descname">readexactly</code><span class="sig-paren">(</span><em>stream</em>, <em>n: int</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/toolkit.html#readexactly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toolkit.readexactly" title="Permalink to this definition">¶</a></dt>
<dd><p>asyncio stream read</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stream</strong> – 流</li>
<li><strong>n</strong> – 读取字节的长度</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to toolkity’s documentation!</a></li>
      <li>Next: <a href="toolkit/processor.html" title="next chapter">进度控制模块</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/toolkit.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, cnaafhvk.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/toolkit.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>